<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Macho-Drive: FileData.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Macho-Drive
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FileData.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef FILEDATA_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define FILEDATA_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;DBElement.h&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;rocksdb/status.h&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">class </span><a class="code" href="classUserMetadata.html">UserMetadata</a>;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="classFileData.html">   15</a></span>&#160;<span class="keyword">class </span><a class="code" href="classFileData.html">FileData</a> : <span class="keyword">public</span> <a class="code" href="classDBElement.html">DBElement</a></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classUserMetadata.html">UserMetadata</a>;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <a class="code" href="classFileData.html#ac3120e3fe46cdc451a60b6b2241bdc43">FileData</a>(<a class="code" href="classDatabase.html">Database</a>* <a class="code" href="classDBElement.html#a9679d0756e44e43babd8f6b11c23e279">db</a>, <a class="code" href="classDatabaseWriteBatch.html">DatabaseWriteBatch</a>* databbatch = NULL);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keyword">virtual</span> ~<a class="code" href="classFileData.html">FileData</a>();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classFileData.html#a8b1caa009dfeda204e0afeba7adfdd9c">   26</a></span>&#160;        std::string <a class="code" href="classFileData.html#a8b1caa009dfeda204e0afeba7adfdd9c">getContent</a>() { <span class="keywordflow">if</span>(content.size() &lt; 1) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>; <span class="keywordflow">return</span> content[content.size()-1]; }</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classFileData.html#a12aa177e9c8a0bcf247e0d482e2dca77">   28</a></span>&#160;        std::vector&lt;std::string&gt;* <a class="code" href="classFileData.html#a12aa177e9c8a0bcf247e0d482e2dca77">getVersions</a>() { <span class="keywordflow">return</span> &amp;content; }</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classFileData.html#a4a3c13ed860d53131219225c30175b02">   30</a></span>&#160;        std::string <a class="code" href="classFileData.html#a4a3c13ed860d53131219225c30175b02">getFilename</a>() { <span class="keywordflow">return</span> filename; }</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classFileData.html#a6137cea98651bd3ff8316f72f1532a7c">   32</a></span>&#160;        std::string <a class="code" href="classFileData.html#a6137cea98651bd3ff8316f72f1532a7c">getExtension</a>() { <span class="keywordflow">return</span> extension; }</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classFileData.html#af65aed6aac7cc932627e54f0440dd7b3">   34</a></span>&#160;        std::string <a class="code" href="classFileData.html#af65aed6aac7cc932627e54f0440dd7b3">getOwnerUsername</a>() { <span class="keywordflow">return</span> owner_username; }</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classFileData.html#ac26fbfac10f0cea9b7abfb9484326fe4">   36</a></span>&#160;        std::string <a class="code" href="classFileData.html#ac26fbfac10f0cea9b7abfb9484326fe4">getOwnerKey</a>() { <span class="keywordflow">return</span> owner_key; }</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classFileData.html#aa045643ae80831f8f9d0f44f39811bb5">   38</a></span>&#160;        std::vector&lt;std::string&gt;* <a class="code" href="classFileData.html#aa045643ae80831f8f9d0f44f39811bb5">getUsersWithReadPermission</a>() { <span class="keywordflow">return</span> &amp;users_with_read_permission; }</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classFileData.html#a19e381c4de962391faff5cc603e5bf0b">   40</a></span>&#160;        std::vector&lt;std::string&gt;* <a class="code" href="classFileData.html#a19e381c4de962391faff5cc603e5bf0b">getUsersWithWritePermission</a>() { <span class="keywordflow">return</span> &amp;users_with_write_permission; }</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classFileData.html#aa780760530e29f3fc19f31523e9d1a31">   42</a></span>&#160;        std::string <a class="code" href="classFileData.html#aa780760530e29f3fc19f31523e9d1a31">getDateLastModified</a>() { <span class="keywordflow">return</span> date_last_modified; }</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classFileData.html#a09d9087d90823757013f20fe285d3fba">   44</a></span>&#160;        std::string <a class="code" href="classFileData.html#a09d9087d90823757013f20fe285d3fba">getUserWhoLastModified</a>() { <span class="keywordflow">return</span> user_who_modified; }</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classFileData.html#af81e3fe5c1ab3c95b5ccb1788d2b3963">   46</a></span>&#160;        std::vector&lt;std::string&gt;* <a class="code" href="classFileData.html#af81e3fe5c1ab3c95b5ccb1788d2b3963">getTags</a>() { <span class="keywordflow">return</span> &amp;tags; }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a7c7e9fe9be39e2321908feac568a930f">setContent</a>(std::string n_content);</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classFileData.html#a9e7c7bd6ade22fd101ecbb4e88ce625f">   51</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a9e7c7bd6ade22fd101ecbb4e88ce625f">setFilename</a>(std::string n_filename) { filename = n_filename; }</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classFileData.html#affac6eeae0a53e7f19cda3af02eff208">   53</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#affac6eeae0a53e7f19cda3af02eff208">setExtension</a>(std::string n_extension) { extension = n_extension; }</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classFileData.html#ae01bd1e2e5f7fbf3651eb9118ddfdd20">   55</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#ae01bd1e2e5f7fbf3651eb9118ddfdd20">setOwnerUsername</a>(std::string n_owner_username) { owner_username = n_owner_username; }</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classFileData.html#a4a9cb02aa62d07f57d819ce508f8b7e6">   57</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a4a9cb02aa62d07f57d819ce508f8b7e6">setOwnerKey</a>(std::string n_owner_key) { owner_key = n_owner_key; }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a9191317d34167923fb9b55c0cbc009b1">addUserWithReadPermission</a>(std::string user_key);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a6ab82007ea5d7e56ee0a36667c0fa73c">addUserWithWritePermission</a>(std::string user_key);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a1a96ce3deca10e4e30c0949a0728c4fe">removeUserWithReadPermission</a>(std::string user_key);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a70ac3cde1ee19bf28669fe0fccd202e8">removeUserWithWritePermission</a>(std::string user_key);</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classFileData.html#a87797886cb043123ef1b2d2d220ff657">   67</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a87797886cb043123ef1b2d2d220ff657">setDateLastModified</a>(std::string date) { date_last_modified = date; }</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classFileData.html#a423883f662aae18cf99911415a9b8a64">   69</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a423883f662aae18cf99911415a9b8a64">setUserWhoLastModified</a>(std::string user_key) { user_who_modified = user_key; }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#aab85286765d3e3cfbc8701514be9a622">addTag</a>(std::string tag_key);</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classFileData.html#a16680cdeffd7a01d98472d010c44351f">   73</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a16680cdeffd7a01d98472d010c44351f">removeTag</a>(std::string tag_key) { tags.erase(std::remove(tags.begin(), tags.end(), tag_key), tags.end()); }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classFileData.html#ab05bc5dceebd83d069ad5db078527b37">check_read_permission</a>(std::string username);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classFileData.html#a8ab9588435a9f7a8576673c33e1cad02">check_write_permission</a>(std::string username);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classFileData.html#a0c6ea54c0f7c4deb340008542b04d88d">   80</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classFileData.html#a0c6ea54c0f7c4deb340008542b04d88d">check_if_tag_belongs</a>(std::string t) { <span class="keywordflow">return</span> (std::find(tags.begin(),tags.end(),t) != tags.end());}</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classFileData.html#aaaccc56f62364f7579aa74ad152e1d29">   82</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classFileData.html#aaaccc56f62364f7579aa74ad152e1d29">check_extension</a>(std::string e) {<span class="keywordflow">return</span> extension == e;}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        Status <a class="code" href="classFileData.html#aa2b5402a1d4b127f629b6d99a11200fb">DBcreate</a>(std::string content, std::string ubicacion);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        Status <a class="code" href="classFileData.html#aba4a55fb4de6dde145650fe3461429b2">DBget_for_read</a>(std::string username);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        Status <a class="code" href="classFileData.html#a9085ca8993533a98bec1d909ba34030e">DBerase</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        Status <a class="code" href="classFileData.html#a7422a5f1235c9d4910e2870fdf248065">DBdelete_file</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        Status <a class="code" href="classFileData.html#a024d04f856c3b800457232e9d4fff6fd">DBmodify</a>(std::string username, std::string n_filename, std::string ubicacion, std::string n_content, std::vector&lt;std::string&gt; &amp;users_read_add,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                        std::vector&lt;std::string&gt; &amp;users_read_remove, std::vector&lt;std::string&gt; &amp;users_write_add, std::vector&lt;std::string&gt; &amp;users_write_remove,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                        std::vector&lt;std::string&gt; &amp;tags_add, std::vector&lt;std::string&gt; &amp;tags_remove, std::vector&lt;int&gt; delete_versions_except_last_n);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a7388a9e67c5f6ed3103a7d6d6f555e9c">_setKey</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classFileData.html#a8d077344ceaf3e0805cb56fc2a8ef17d">_setValue</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classFileData.html#ab95f4ee3fae005eeb246ff0a850fce98">_setValueVars</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        std::vector&lt;std::string&gt; content;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        std::string filename;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        std::string extension;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        std::string owner_username;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        std::string owner_key; <span class="comment">// si es el MD5 del username no hace falta tenerlo</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        std::vector&lt;std::string&gt; users_with_read_permission; <span class="comment">// tal vez deberian ser sets para evitar duplicados</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span>        std::vector&lt;std::string&gt; users_with_write_permission;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        std::string date_last_modified;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        std::string user_who_modified;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        std::vector&lt;std::string&gt; tags; <span class="comment">// tal vez deberia ser set</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        Status _DBchangeModified(std::string username);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        Status _DBsetExtension(std::string new_extension);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordtype">int</span> _contentSize();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        Status _DBremoveTag(std::string tag);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        Status _DBeraseVersion(<span class="keywordtype">int</span> v, <a class="code" href="classUserMetadata.html">UserMetadata</a>* user_metadata);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        Status _DBget_for_modify(std::string username);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        Status _DBsetFilename(std::string name, <a class="code" href="classUserMetadata.html">UserMetadata</a>* user_metadata);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        Status _DBchangeFilename(std::string name, <a class="code" href="classUserMetadata.html">UserMetadata</a>* user_metadata);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        Status _DBsetContent(std::string content, <a class="code" href="classUserMetadata.html">UserMetadata</a>* usr);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        Status _DBremoveUserWithReadPermission(std::string user_key);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        Status _DBremoveUserWithWritePermission(std::string user_key);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        Status _DBaddUserWithReadPermission(std::string user_key);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        Status _DBaddUserWithWritePermission(std::string user_key);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        Status _DBaddTag(std::string tag);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;};</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif // FILEDATA_H</span></div><div class="ttc" id="classFileData_html_a7c7e9fe9be39e2321908feac568a930f"><div class="ttname"><a href="classFileData.html#a7c7e9fe9be39e2321908feac568a930f">FileData::setContent</a></div><div class="ttdeci">void setContent(std::string n_content)</div><div class="ttdoc">Funcion que establece el contenido. </div></div>
<div class="ttc" id="classDBElement_html"><div class="ttname"><a href="classDBElement.html">DBElement</a></div><div class="ttdoc">Clase que representa a los registros de la base de datos. </div><div class="ttdef"><b>Definition:</b> DBElement.h:18</div></div>
<div class="ttc" id="classFileData_html_a024d04f856c3b800457232e9d4fff6fd"><div class="ttname"><a href="classFileData.html#a024d04f856c3b800457232e9d4fff6fd">FileData::DBmodify</a></div><div class="ttdeci">Status DBmodify(std::string username, std::string n_filename, std::string ubicacion, std::string n_content, std::vector&lt; std::string &gt; &amp;users_read_add, std::vector&lt; std::string &gt; &amp;users_read_remove, std::vector&lt; std::string &gt; &amp;users_write_add, std::vector&lt; std::string &gt; &amp;users_write_remove, std::vector&lt; std::string &gt; &amp;tags_add, std::vector&lt; std::string &gt; &amp;tags_remove, std::vector&lt; int &gt; delete_versions_except_last_n)</div><div class="ttdoc">Funcion que modifica archivo. </div></div>
<div class="ttc" id="classFileData_html_ab05bc5dceebd83d069ad5db078527b37"><div class="ttname"><a href="classFileData.html#ab05bc5dceebd83d069ad5db078527b37">FileData::check_read_permission</a></div><div class="ttdeci">bool check_read_permission(std::string username)</div><div class="ttdoc">Funcion que verifica permiso de lectura. </div></div>
<div class="ttc" id="classFileData_html_af81e3fe5c1ab3c95b5ccb1788d2b3963"><div class="ttname"><a href="classFileData.html#af81e3fe5c1ab3c95b5ccb1788d2b3963">FileData::getTags</a></div><div class="ttdeci">std::vector&lt; std::string &gt; * getTags()</div><div class="ttdoc">Funcion que devuelve lista de tags. </div><div class="ttdef"><b>Definition:</b> FileData.h:46</div></div>
<div class="ttc" id="classFileData_html_aa2b5402a1d4b127f629b6d99a11200fb"><div class="ttname"><a href="classFileData.html#aa2b5402a1d4b127f629b6d99a11200fb">FileData::DBcreate</a></div><div class="ttdeci">Status DBcreate(std::string content, std::string ubicacion)</div><div class="ttdoc">Funcion que crea el archivo en la base de datos. </div></div>
<div class="ttc" id="classFileData_html_a6137cea98651bd3ff8316f72f1532a7c"><div class="ttname"><a href="classFileData.html#a6137cea98651bd3ff8316f72f1532a7c">FileData::getExtension</a></div><div class="ttdeci">std::string getExtension()</div><div class="ttdoc">Funcion que devuelve la extension. </div><div class="ttdef"><b>Definition:</b> FileData.h:32</div></div>
<div class="ttc" id="classFileData_html_a6ab82007ea5d7e56ee0a36667c0fa73c"><div class="ttname"><a href="classFileData.html#a6ab82007ea5d7e56ee0a36667c0fa73c">FileData::addUserWithWritePermission</a></div><div class="ttdeci">void addUserWithWritePermission(std::string user_key)</div><div class="ttdoc">Funcion que agrega usuario con permiso de escritura. </div></div>
<div class="ttc" id="classFileData_html_a1a96ce3deca10e4e30c0949a0728c4fe"><div class="ttname"><a href="classFileData.html#a1a96ce3deca10e4e30c0949a0728c4fe">FileData::removeUserWithReadPermission</a></div><div class="ttdeci">void removeUserWithReadPermission(std::string user_key)</div><div class="ttdoc">Funcion que remueve usuario con permiso de lectura. </div></div>
<div class="ttc" id="classFileData_html_aaaccc56f62364f7579aa74ad152e1d29"><div class="ttname"><a href="classFileData.html#aaaccc56f62364f7579aa74ad152e1d29">FileData::check_extension</a></div><div class="ttdeci">bool check_extension(std::string e)</div><div class="ttdoc">Funcion que verifica la extension. </div><div class="ttdef"><b>Definition:</b> FileData.h:82</div></div>
<div class="ttc" id="classFileData_html_a70ac3cde1ee19bf28669fe0fccd202e8"><div class="ttname"><a href="classFileData.html#a70ac3cde1ee19bf28669fe0fccd202e8">FileData::removeUserWithWritePermission</a></div><div class="ttdeci">void removeUserWithWritePermission(std::string user_key)</div><div class="ttdoc">Funcion que remueve usuario con permiso de escritura. </div></div>
<div class="ttc" id="classDatabase_html"><div class="ttname"><a href="classDatabase.html">Database</a></div><div class="ttdoc">Clase abstracta como interface para base de datos. </div><div class="ttdef"><b>Definition:</b> Database.h:16</div></div>
<div class="ttc" id="classFileData_html_a0c6ea54c0f7c4deb340008542b04d88d"><div class="ttname"><a href="classFileData.html#a0c6ea54c0f7c4deb340008542b04d88d">FileData::check_if_tag_belongs</a></div><div class="ttdeci">bool check_if_tag_belongs(std::string t)</div><div class="ttdoc">Funcion que verifica si el archivo tiene un tag. </div><div class="ttdef"><b>Definition:</b> FileData.h:80</div></div>
<div class="ttc" id="classFileData_html_ab95f4ee3fae005eeb246ff0a850fce98"><div class="ttname"><a href="classFileData.html#ab95f4ee3fae005eeb246ff0a850fce98">FileData::_setValueVars</a></div><div class="ttdeci">virtual void _setValueVars()</div><div class="ttdoc">Funcion que establece variables del objeto. </div></div>
<div class="ttc" id="classDatabaseWriteBatch_html"><div class="ttname"><a href="classDatabaseWriteBatch.html">DatabaseWriteBatch</a></div><div class="ttdoc">Clase que maneja el batch. </div><div class="ttdef"><b>Definition:</b> DatabaseWriteBatch.h:13</div></div>
<div class="ttc" id="classFileData_html_a4a9cb02aa62d07f57d819ce508f8b7e6"><div class="ttname"><a href="classFileData.html#a4a9cb02aa62d07f57d819ce508f8b7e6">FileData::setOwnerKey</a></div><div class="ttdeci">void setOwnerKey(std::string n_owner_key)</div><div class="ttdoc">Funcion que establece la key del duenio. </div><div class="ttdef"><b>Definition:</b> FileData.h:57</div></div>
<div class="ttc" id="classFileData_html_ae01bd1e2e5f7fbf3651eb9118ddfdd20"><div class="ttname"><a href="classFileData.html#ae01bd1e2e5f7fbf3651eb9118ddfdd20">FileData::setOwnerUsername</a></div><div class="ttdeci">void setOwnerUsername(std::string n_owner_username)</div><div class="ttdoc">Funcion que establece el username. </div><div class="ttdef"><b>Definition:</b> FileData.h:55</div></div>
<div class="ttc" id="classFileData_html_a8d077344ceaf3e0805cb56fc2a8ef17d"><div class="ttname"><a href="classFileData.html#a8d077344ceaf3e0805cb56fc2a8ef17d">FileData::_setValue</a></div><div class="ttdeci">virtual void _setValue()</div><div class="ttdoc">Funcion que establece el value. </div></div>
<div class="ttc" id="classFileData_html_a16680cdeffd7a01d98472d010c44351f"><div class="ttname"><a href="classFileData.html#a16680cdeffd7a01d98472d010c44351f">FileData::removeTag</a></div><div class="ttdeci">void removeTag(std::string tag_key)</div><div class="ttdoc">Funcion que remueve un tag de la lista. </div><div class="ttdef"><b>Definition:</b> FileData.h:73</div></div>
<div class="ttc" id="classFileData_html_aa780760530e29f3fc19f31523e9d1a31"><div class="ttname"><a href="classFileData.html#aa780760530e29f3fc19f31523e9d1a31">FileData::getDateLastModified</a></div><div class="ttdeci">std::string getDateLastModified()</div><div class="ttdoc">Funcion que devuelve ultima fecha de modificacion. </div><div class="ttdef"><b>Definition:</b> FileData.h:42</div></div>
<div class="ttc" id="classFileData_html_a7388a9e67c5f6ed3103a7d6d6f555e9c"><div class="ttname"><a href="classFileData.html#a7388a9e67c5f6ed3103a7d6d6f555e9c">FileData::_setKey</a></div><div class="ttdeci">virtual void _setKey()</div><div class="ttdoc">Funcion que establece la key. </div></div>
<div class="ttc" id="classFileData_html_a9e7c7bd6ade22fd101ecbb4e88ce625f"><div class="ttname"><a href="classFileData.html#a9e7c7bd6ade22fd101ecbb4e88ce625f">FileData::setFilename</a></div><div class="ttdeci">void setFilename(std::string n_filename)</div><div class="ttdoc">Funcion que establece el nombre del archivo. </div><div class="ttdef"><b>Definition:</b> FileData.h:51</div></div>
<div class="ttc" id="classFileData_html_a8b1caa009dfeda204e0afeba7adfdd9c"><div class="ttname"><a href="classFileData.html#a8b1caa009dfeda204e0afeba7adfdd9c">FileData::getContent</a></div><div class="ttdeci">std::string getContent()</div><div class="ttdoc">Funcion que devuelve la version mas nueva del archivo. </div><div class="ttdef"><b>Definition:</b> FileData.h:26</div></div>
<div class="ttc" id="classFileData_html_ac26fbfac10f0cea9b7abfb9484326fe4"><div class="ttname"><a href="classFileData.html#ac26fbfac10f0cea9b7abfb9484326fe4">FileData::getOwnerKey</a></div><div class="ttdeci">std::string getOwnerKey()</div><div class="ttdoc">Funcion que devuelve la key del duenio. </div><div class="ttdef"><b>Definition:</b> FileData.h:36</div></div>
<div class="ttc" id="classFileData_html_a9191317d34167923fb9b55c0cbc009b1"><div class="ttname"><a href="classFileData.html#a9191317d34167923fb9b55c0cbc009b1">FileData::addUserWithReadPermission</a></div><div class="ttdeci">void addUserWithReadPermission(std::string user_key)</div><div class="ttdoc">Funcion que agrega usuario con permiso de lectura. </div></div>
<div class="ttc" id="classFileData_html_aba4a55fb4de6dde145650fe3461429b2"><div class="ttname"><a href="classFileData.html#aba4a55fb4de6dde145650fe3461429b2">FileData::DBget_for_read</a></div><div class="ttdeci">Status DBget_for_read(std::string username)</div><div class="ttdoc">Funcion que verifica archivo para lectura. </div></div>
<div class="ttc" id="classFileData_html"><div class="ttname"><a href="classFileData.html">FileData</a></div><div class="ttdoc">Clase que maneja la informacion del archivo. </div><div class="ttdef"><b>Definition:</b> FileData.h:15</div></div>
<div class="ttc" id="classFileData_html_ac3120e3fe46cdc451a60b6b2241bdc43"><div class="ttname"><a href="classFileData.html#ac3120e3fe46cdc451a60b6b2241bdc43">FileData::FileData</a></div><div class="ttdeci">FileData(Database *db, DatabaseWriteBatch *databbatch=NULL)</div><div class="ttdoc">Funcion que inicializa la clase. </div></div>
<div class="ttc" id="classUserMetadata_html"><div class="ttname"><a href="classUserMetadata.html">UserMetadata</a></div><div class="ttdoc">Clase que contiene la informacion del usuario. </div><div class="ttdef"><b>Definition:</b> UserMetadata.h:17</div></div>
<div class="ttc" id="classFileData_html_a4a3c13ed860d53131219225c30175b02"><div class="ttname"><a href="classFileData.html#a4a3c13ed860d53131219225c30175b02">FileData::getFilename</a></div><div class="ttdeci">std::string getFilename()</div><div class="ttdoc">Funcion que devuelve filename. </div><div class="ttdef"><b>Definition:</b> FileData.h:30</div></div>
<div class="ttc" id="classFileData_html_a12aa177e9c8a0bcf247e0d482e2dca77"><div class="ttname"><a href="classFileData.html#a12aa177e9c8a0bcf247e0d482e2dca77">FileData::getVersions</a></div><div class="ttdeci">std::vector&lt; std::string &gt; * getVersions()</div><div class="ttdoc">Funcion que devuelve todas las versiones del archivo. </div><div class="ttdef"><b>Definition:</b> FileData.h:28</div></div>
<div class="ttc" id="classFileData_html_affac6eeae0a53e7f19cda3af02eff208"><div class="ttname"><a href="classFileData.html#affac6eeae0a53e7f19cda3af02eff208">FileData::setExtension</a></div><div class="ttdeci">void setExtension(std::string n_extension)</div><div class="ttdoc">Funcion que establece la extension. </div><div class="ttdef"><b>Definition:</b> FileData.h:53</div></div>
<div class="ttc" id="classFileData_html_a8ab9588435a9f7a8576673c33e1cad02"><div class="ttname"><a href="classFileData.html#a8ab9588435a9f7a8576673c33e1cad02">FileData::check_write_permission</a></div><div class="ttdeci">bool check_write_permission(std::string username)</div><div class="ttdoc">Funcion que verifica permiso de escritura. </div></div>
<div class="ttc" id="classFileData_html_a09d9087d90823757013f20fe285d3fba"><div class="ttname"><a href="classFileData.html#a09d9087d90823757013f20fe285d3fba">FileData::getUserWhoLastModified</a></div><div class="ttdeci">std::string getUserWhoLastModified()</div><div class="ttdoc">Funcion que devuelve ultimo usuario en modificar archivo. </div><div class="ttdef"><b>Definition:</b> FileData.h:44</div></div>
<div class="ttc" id="classFileData_html_a423883f662aae18cf99911415a9b8a64"><div class="ttname"><a href="classFileData.html#a423883f662aae18cf99911415a9b8a64">FileData::setUserWhoLastModified</a></div><div class="ttdeci">void setUserWhoLastModified(std::string user_key)</div><div class="ttdoc">Funcion que establece el ultimo usuario en modificarlo. </div><div class="ttdef"><b>Definition:</b> FileData.h:69</div></div>
<div class="ttc" id="classFileData_html_aab85286765d3e3cfbc8701514be9a622"><div class="ttname"><a href="classFileData.html#aab85286765d3e3cfbc8701514be9a622">FileData::addTag</a></div><div class="ttdeci">void addTag(std::string tag_key)</div><div class="ttdoc">Funcion que agrega tag a la lista de tags. </div></div>
<div class="ttc" id="classFileData_html_aa045643ae80831f8f9d0f44f39811bb5"><div class="ttname"><a href="classFileData.html#aa045643ae80831f8f9d0f44f39811bb5">FileData::getUsersWithReadPermission</a></div><div class="ttdeci">std::vector&lt; std::string &gt; * getUsersWithReadPermission()</div><div class="ttdoc">Funcion que devuelve lista de usuarions con permiso de lectura. </div><div class="ttdef"><b>Definition:</b> FileData.h:38</div></div>
<div class="ttc" id="classFileData_html_af65aed6aac7cc932627e54f0440dd7b3"><div class="ttname"><a href="classFileData.html#af65aed6aac7cc932627e54f0440dd7b3">FileData::getOwnerUsername</a></div><div class="ttdeci">std::string getOwnerUsername()</div><div class="ttdoc">Funcion que devuelve el username del duenio. </div><div class="ttdef"><b>Definition:</b> FileData.h:34</div></div>
<div class="ttc" id="classFileData_html_a7422a5f1235c9d4910e2870fdf248065"><div class="ttname"><a href="classFileData.html#a7422a5f1235c9d4910e2870fdf248065">FileData::DBdelete_file</a></div><div class="ttdeci">Status DBdelete_file()</div><div class="ttdoc">Función que elimina archivo sin fijarse usarios con read permission. </div></div>
<div class="ttc" id="classDBElement_html_a9679d0756e44e43babd8f6b11c23e279"><div class="ttname"><a href="classDBElement.html#a9679d0756e44e43babd8f6b11c23e279">DBElement::db</a></div><div class="ttdeci">Database * db</div><div class="ttdoc">Variable db. </div><div class="ttdef"><b>Definition:</b> DBElement.h:118</div></div>
<div class="ttc" id="classFileData_html_a87797886cb043123ef1b2d2d220ff657"><div class="ttname"><a href="classFileData.html#a87797886cb043123ef1b2d2d220ff657">FileData::setDateLastModified</a></div><div class="ttdeci">void setDateLastModified(std::string date)</div><div class="ttdoc">Funcion que establece la ultima fecha de modificacion. </div><div class="ttdef"><b>Definition:</b> FileData.h:67</div></div>
<div class="ttc" id="classFileData_html_a19e381c4de962391faff5cc603e5bf0b"><div class="ttname"><a href="classFileData.html#a19e381c4de962391faff5cc603e5bf0b">FileData::getUsersWithWritePermission</a></div><div class="ttdeci">std::vector&lt; std::string &gt; * getUsersWithWritePermission()</div><div class="ttdoc">Funcion que devuelve lista de usuarions con permiso de escritura. </div><div class="ttdef"><b>Definition:</b> FileData.h:40</div></div>
<div class="ttc" id="classFileData_html_a9085ca8993533a98bec1d909ba34030e"><div class="ttname"><a href="classFileData.html#a9085ca8993533a98bec1d909ba34030e">FileData::DBerase</a></div><div class="ttdeci">Status DBerase()</div><div class="ttdoc">Funcion que elimina el archivo. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
